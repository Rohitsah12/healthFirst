(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,l=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),l(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},99838,e=>{"use strict";let t;e.s(["default",()=>ep],99838);var r=e.i(43476),n=e.i(80785),i=e.i(1404),a=e.i(18566),l=e.i(71645),s=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>d,"FOCUS_EVENT",()=>o,"MUTATE_EVENT",()=>u,"RECONNECT_EVENT",()=>c],11671);let o=0,c=1,u=2,d=3;var f=Object.prototype.hasOwnProperty;let h=new WeakMap,p=()=>{},g=p(),m=Object,x=e=>e===g,y=(e,t)=>({...e,...t}),b={},v={},w="undefined",j=typeof window!=w,E=typeof document!=w,N=j&&"Deno"in window,T=(e,t)=>{let r=h.get(e);return[()=>!x(t)&&e.get(t)||b,n=>{if(!x(t)){let i=e.get(t);t in v||(v[t]=i),r[5](t,y(i,n),i||b)}},r[6],()=>!x(t)&&t in v?v[t]:!x(t)&&e.get(t)||b]},R=!0,[O,S]=j&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[p,p],_={initFocus:e=>(E&&document.addEventListener("visibilitychange",e),O("focus",e),()=>{E&&document.removeEventListener("visibilitychange",e),S("focus",e)}),initReconnect:e=>{let t=()=>{R=!0,e()},r=()=>{R=!1};return O("online",t),O("offline",r),()=>{S("online",t),S("offline",r)}}},C=!l.default.useId,V=!j||N,k=V?l.useEffect:l.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,L=!V&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),D=new WeakMap,P=(e,t)=>e==="[object ".concat(t,"]"),I=0,U=e=>{let t,r,n=typeof e,i=m.prototype.toString.call(e),a=P(i,"Date"),l=P(i,"RegExp"),s=P(i,"Object");if(m(e)!==e||a||l)t=a?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=D.get(e))return t;if(t=++I+"~",D.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=U(e[r])+",";D.set(e,t)}if(s){t="#";let n=m.keys(e).sort();for(;!x(r=n.pop());)x(e[r])||(t+=r+":"+U(e[r])+",");D.set(e,t)}}return t},F=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?U(e):"",t]},M=0,W=()=>++M;async function q(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i,a,l]=t,s=y({populateCache:!0,throwOnError:!0},"boolean"==typeof l?{revalidate:l}:l||{}),o=s.populateCache,c=s.rollbackOnError,d=s.optimisticData,f=s.throwOnError;if("function"==typeof i){let e=[];for(let t of n.keys())!/^\$(inf|sub)\$/.test(t)&&i(n.get(t)._k)&&e.push(t);return Promise.all(e.map(p))}return p(i);async function p(e){let r,[i]=F(e);if(!i)return;let[l,p]=T(n,i),[m,y,b,v]=h.get(n),w=()=>{let t=m[i];return("function"==typeof s.revalidate?s.revalidate(l().data,e):!1!==s.revalidate)&&(delete b[i],delete v[i],t&&t[0])?t[0](u).then(()=>l().data):l().data};if(t.length<3)return w();let j=a,E=!1,N=W();y[i]=[N,0];let R=!x(d),O=l(),S=O.data,_=O._c,C=x(_)?S:_;if(R&&p({data:d="function"==typeof d?d(C,S):d,_c:C}),"function"==typeof j)try{j=j(C)}catch(e){r=e,E=!0}if(j&&"function"==typeof j.then){let e;if(j=await j.catch(e=>{r=e,E=!0}),N!==y[i][0]){if(E)throw r;return j}E&&R&&(e=r,"function"==typeof c?c(e):!1!==c)&&(o=!0,p({data:C,_c:g}))}if(o&&!E&&("function"==typeof o?p({data:o(j,C),error:g,_c:g}):p({data:j,error:g,_c:g})),y[i][1]=W(),Promise.resolve(w()).then(()=>{p({_c:g})}),E){if(f)throw r;return}return j}}let z=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},$=(e,t)=>{if(!h.has(e)){let r=y(_,t),n=Object.create(null),i=q.bind(g,e),a=p,l=Object.create(null),s=(e,t)=>{let r=l[e]||[];return l[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},u=(t,r,n)=>{e.set(t,r);let i=l[t];if(i)for(let e of i)e(r,n)},d=()=>{if(!h.has(e)&&(h.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,u,s]),!V)){let t=r.initFocus(setTimeout.bind(g,z.bind(g,n,o))),i=r.initReconnect(setTimeout.bind(g,z.bind(g,n,c)));a=()=>{t&&t(),i&&i(),h.delete(e)}}};return d(),[e,i,d,a]}return[e,h.get(e)[4]]},[B,G]=$(new Map),J=y({onLoadingSlow:p,onSuccess:p,onError:p,onErrorRetry:(e,t,r,n,i)=>{let a=r.errorRetryCount,l=i.retryCount,s=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;(x(a)||!(l>a))&&setTimeout(n,s,i)},onDiscarded:p,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:function e(t,r){var n,i;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((i=t.length)===r.length)for(;i--&&e(t[i],r[i]););return -1===i}if(!n||"object"==typeof t){for(n in i=0,t)if(f.call(t,n)&&++i&&!f.call(r,n)||!(n in r)||!e(t[n],r[n]))return!1;return Object.keys(r).length===i}}return t!=t&&r!=r},isPaused:()=>!1,cache:B,mutate:G,fallback:{}},{isOnline:()=>R,isVisible:()=>{let e=E&&document.visibilityState;return x(e)||"hidden"!==e}}),K=(e,t)=>{let r=y(e,t);if(t){let{use:n,fallback:i}=e,{use:a,fallback:l}=t;n&&a&&(r.use=n.concat(a)),i&&l&&(r.fallback=y(i,l))}return r},Q=(0,l.createContext)({});var H=e.i(11671);let X=j&&window.__SWR_DEVTOOLS_USE__,Y=(X?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,n)=>{let i=r&&function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];let[a]=F(t),[,,,l]=h.get(B);if(a.startsWith("$inf$"))return r(...n);let s=l[a];return x(s)?r(...n):(delete l[a],s)};return e(t,i,n)});X&&(window.__SWR_DEVTOOLS_REACT__=l.default);let Z=()=>{},ee=Z();new WeakMap;let et=l.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),er={dedupe:!0},en=Promise.resolve(g);m.defineProperty(e=>{let{value:t}=e,r=(0,l.useContext)(Q),n="function"==typeof t,i=(0,l.useMemo)(()=>n?t(r):t,[n,r,t]),a=(0,l.useMemo)(()=>n?i:K(r,i),[n,r,i]),s=i&&i.provider,o=(0,l.useRef)(g);s&&!o.current&&(o.current=$(s(a.cache||B),i));let c=o.current;return c&&(a.cache=c[0],a.mutate=c[1]),k(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,l.createElement)(Q.Provider,y(e,{value:a}))},"defaultValue",{value:J});let ei=(t=(e,t,r)=>{let{cache:n,compare:i,suspense:a,fallbackData:o,revalidateOnMount:c,revalidateIfStale:u,refreshInterval:d,refreshWhenHidden:f,refreshWhenOffline:p,keepPreviousData:m}=r,[b,v,E,N]=h.get(n),[R,O]=F(e),S=(0,l.useRef)(!1),_=(0,l.useRef)(!1),A=(0,l.useRef)(R),L=(0,l.useRef)(t),D=(0,l.useRef)(r),P=()=>D.current.isVisible()&&D.current.isOnline(),[I,U,M,z]=T(n,R),$=(0,l.useRef)({}).current,B=x(o)?x(r.fallback)?g:r.fallback[R]:o,G=(e,t)=>{for(let r in $)if("data"===r){if(!i(e[r],t[r])&&(!x(e[r])||!i(ea,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},J=(0,l.useMemo)(()=>{let e=!!R&&!!t&&(x(c)?!D.current.isPaused()&&!a&&!1!==u:c),r=t=>{let r=y(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=I(),i=z(),l=r(n),s=n===i?l:r(i),o=l;return[()=>{let e=r(I());return G(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]},[n,R]),K=(0,s.useSyncExternalStore)((0,l.useCallback)(e=>M(R,(t,r)=>{G(r,t)||e()}),[n,R]),J[0],J[1]),Q=!S.current,X=b[R]&&b[R].length>0,Y=K.data,Z=x(Y)?B&&"function"==typeof B.then?et(B):B:Y,ee=K.error,ei=(0,l.useRef)(Z),ea=m?x(Y)?x(ei.current)?Z:ei.current:Y:Z,el=(!X||!!x(ee))&&(Q&&!x(c)?c:!D.current.isPaused()&&(a?!x(Z)&&u:x(Z)||u)),es=!!(R&&t&&Q&&el),eo=x(K.isValidating)?es:K.isValidating,ec=x(K.isLoading)?es:K.isLoading,eu=(0,l.useCallback)(async e=>{let t,n,a=L.current;if(!R||!a||_.current||D.current.isPaused())return!1;let l=!0,s=e||{},o=!E[R]||!s.dedupe,c=()=>C?!_.current&&R===A.current&&S.current:R===A.current,u={isValidating:!1,isLoading:!1},d=()=>{U(u)},f=()=>{let e=E[R];e&&e[1]===n&&delete E[R]},h={isValidating:!0};x(I().data)&&(h.isLoading=!0);try{if(o&&(U(h),r.loadingTimeout&&x(I().data)&&setTimeout(()=>{l&&c()&&D.current.onLoadingSlow(R,r)},r.loadingTimeout),E[R]=[a(O),W()]),[t,n]=E[R],t=await t,o&&setTimeout(f,r.dedupingInterval),!E[R]||E[R][1]!==n)return o&&c()&&D.current.onDiscarded(R),!1;u.error=g;let e=v[R];if(!x(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return d(),o&&c()&&D.current.onDiscarded(R),!1;let s=I().data;u.data=i(s,t)?s:t,o&&c()&&D.current.onSuccess(t,R,r)}catch(r){f();let e=D.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=r,o&&c())&&(e.onError(r,R,e),(!0===t||"function"==typeof t&&t(r))&&(!D.current.revalidateOnFocus||!D.current.revalidateOnReconnect||P())&&e.onErrorRetry(r,R,e,e=>{let t=b[R];t&&t[0]&&t[0](H.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0}))}return l=!1,d(),!0},[R,n]),ed=(0,l.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return q(n,A.current,...t)},[]);if(k(()=>{L.current=t,D.current=r,x(Y)||(ei.current=Y)}),k(()=>{if(!R)return;let e=eu.bind(g,er),t=0;D.current.revalidateOnFocus&&(t=Date.now()+D.current.focusThrottleInterval);let r=((e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}})(R,b,function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r==H.FOCUS_EVENT){let r=Date.now();D.current.revalidateOnFocus&&r>t&&P()&&(t=r+D.current.focusThrottleInterval,e())}else if(r==H.RECONNECT_EVENT)D.current.revalidateOnReconnect&&P()&&e();else if(r==H.MUTATE_EVENT)return eu();else if(r==H.ERROR_REVALIDATE_EVENT)return eu(n)});return _.current=!1,A.current=R,S.current=!0,U({_k:O}),el&&!E[R]&&(x(Z)||V?e():(e=>j&&typeof window.requestAnimationFrame!=w?window.requestAnimationFrame(e):setTimeout(e,1))(e)),()=>{_.current=!0,r()}},[R]),k(()=>{let e;function t(){let t="function"==typeof d?d(I().data):d;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!I().error&&(f||D.current.isVisible())&&(p||D.current.isOnline())?eu(er).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[d,f,p,R]),(0,l.useDebugValue)(ea),a){let e=R&&x(Z);if(!C&&V&&e)throw Error("Fallback data is required when using Suspense in SSR.");e&&(L.current=t,D.current=r,_.current=!1);let n=N[R];if(et(!x(n)&&e?ed(n):en),!x(ee)&&e)throw ee;let i=e?eu(er):en;!x(ea)&&e&&(i.status="fulfilled",i.value=!0),et(i)}return{mutate:ed,get data(){return $.data=!0,ea},get error(){return $.error=!0,ee},get isValidating(){return $.isValidating=!0,eo},get isLoading(){return $.isLoading=!0,ec}}},function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i=(()=>{let e=(0,l.useContext)(Q);return(0,l.useMemo)(()=>y(J,e),[e])})(),[a,s,o]="function"==typeof r[1]?[r[0],r[1],r[2]||{}]:[r[0],null,(null===r[1]?r[2]:r[1])||{}],c=K(i,o),u=t,{use:d}=c,f=(d||[]).concat(Y);for(let e=f.length;e--;)u=f[e](u);return u(a,s||c.fetcher||null,c)});var ea=e.i(81477),el=e.i(87316),es=e.i(69638),eo=e.i(3116),ec=e.i(20286),eu=e.i(79002),ed=e.i(63059);let ef=e=>{let{icon:t,label:n,value:i,color:a}=e;return(0,r.jsx)("div",{className:"".concat({blue:"bg-blue-50 text-blue-600 border-blue-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200"}[a]," border-2 rounded-xl p-6 shadow-sm"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium opacity-80",children:n}),(0,r.jsx)("p",{className:"text-4xl font-bold mt-2",children:i})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center shadow-md",children:(0,r.jsx)(t,{size:28})})]})})},eh=async e=>(await ea.default.get(e)).data;function ep(){let e=(0,n.useAppDispatch)(),t=(0,a.useRouter)(),{data:l,error:s,isLoading:o}=ei("/dashboard",eh,{refreshInterval:3e4});if(o)return(0,r.jsx)("p",{className:"text-center p-8",children:"Loading Dashboard..."});if(s)return(0,r.jsx)("p",{className:"text-center p-8 text-red-600",children:"Failed to load dashboard data."});if(!l)return(0,r.jsx)("p",{className:"text-center p-8",children:"No data available."});let{stats:c,queue:u,appointments:d}=l;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Today's Clinic Overview"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:()=>e((0,i.openModal)("addWalkin")),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 shadow-lg transition-colors font-medium",children:[(0,r.jsx)(eu.UserPlus,{size:20})," Add Walk-in"]}),(0,r.jsxs)("button",{onClick:()=>t.push("/appointments"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 shadow-lg transition-colors font-medium",children:[(0,r.jsx)(el.Calendar,{size:20})," Book Appointment"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(ef,{icon:eo.Clock,label:"Patients Waiting",value:c.waiting,color:"blue"}),(0,r.jsx)(ef,{icon:ec.Stethoscope,label:"With Doctor",value:c.withDoctor,color:"yellow"}),(0,r.jsx)(ef,{icon:es.CheckCircle,label:"Completed Today",value:c.completedToday,color:"green"}),(0,r.jsx)(ef,{icon:el.Calendar,label:"Upcoming Today",value:c.upcomingToday,color:"purple"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Current Queue"}),(0,r.jsxs)("button",{onClick:()=>t.push("/queue"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:["View All ",(0,r.jsx)(ed.ChevronRight,{size:16})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:u&&u.length>0?u.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-800",children:e.patientName}),"URGENT"===e.priority&&(0,r.jsx)("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-bold",children:"URGENT"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.doctorName})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:e.checkInTime})]})},e.id)):(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"The queue is empty."})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Upcoming Appointments"}),(0,r.jsxs)("button",{onClick:()=>t.push("/appointments"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:["View All ",(0,r.jsx)(ed.ChevronRight,{size:16})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:d&&d.length>0?d.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-800",children:e.patientName}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.doctorName," â€¢ ",e.type]})]}),(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:e.time})]})},e.id)):(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No appointments scheduled for today."})})]})]})]})}}]);