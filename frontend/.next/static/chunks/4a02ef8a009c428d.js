(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79002,e=>{"use strict";e.s(["UserPlus",()=>t],79002);let t=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},63059,e=>{"use strict";e.s(["ChevronRight",()=>t],63059);let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},51818,31278,e=>{"use strict";e.s(["default",()=>i],51818);var t=e.i(43476);e.s(["Loader2",()=>s],31278);let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),i=()=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(s,{className:"animate-spin text-blue-600 mb-4",size:48}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})},96028,e=>{"use strict";e.s(["default",()=>p],96028);var t=e.i(43476),s=e.i(71645),i=e.i(80785),l=e.i(8627),a=e.i(97201),r=e.i(3116),c=e.i(63059),n=e.i(69638),d=e.i(63209),x=e.i(16715);let u=e=>{let{visit:s,isMoving:u}=e,o=(0,i.useAppDispatch)(),h=e=>{o((0,l.updateStatusThunk)({visitId:s.id,status:e}))},m=s.currentStatus===a.VisitStatus.CHECKED_IN;return(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md border border-gray-200 relative",children:[u&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center rounded-lg",children:(0,t.jsx)(x.RefreshCw,{className:"animate-spin text-blue-600",size:24})}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800",children:s.patient.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s.doctor.user.name})]}),"URGENT"===s.priority&&(0,t.jsxs)("span",{className:"bg-red-500 text-white text-xs px-3 py-1 rounded-full font-bold flex items-center gap-1",children:[(0,t.jsx)(d.AlertCircle,{size:14})," URGENT"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(r.Clock,{size:14}),s.checkInTime?new Date(s.checkInTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"]}),m?(0,t.jsxs)("button",{onClick:()=>h(a.VisitStatus.WITH_DOCTOR),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1",children:["To Doctor ",(0,t.jsx)(c.ChevronRight,{size:14})]}):(0,t.jsxs)("button",{onClick:()=>h(a.VisitStatus.COMPLETED),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1",children:[(0,t.jsx)(n.CheckCircle,{size:14})," Complete"]})]})]})},o=e=>{let{title:s,visits:i,color:l,movingVisitId:a}=e;return(0,t.jsxs)("div",{className:"border-2 rounded-xl p-4 min-h-96 ".concat("blue"===l?"bg-blue-50 border-blue-300":"bg-yellow-50 border-yellow-300"),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:s}),(0,t.jsx)("span",{className:"bg-white px-3 py-1 rounded-full text-sm font-bold text-gray-700 shadow-sm",children:i.length})]}),(0,t.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,t.jsx)(u,{visit:e,isMoving:a===e.id},e.id))})]})};var h=e.i(1404),m=e.i(79002),g=e.i(51818);function p(){let e=(0,i.useAppDispatch)(),{waiting:a,withDoctor:r,status:c,movingVisitId:n}=(0,i.useAppSelector)(e=>e.queue);return(0,s.useEffect)(()=>{e((0,l.fetchQueueThunk)());let t=setInterval(()=>{e((0,l.fetchQueueThunk)())},3e4);return()=>clearInterval(t)},[e]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Live Queue"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Real-time patient flow management"})]}),(0,t.jsxs)("button",{onClick:()=>e((0,h.openModal)("addWalkin")),className:"bg-blue-600 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(m.UserPlus,{size:20})," Add Walk-in Patient"]})]}),"loading"!==c||a.length||r.length?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(o,{title:"Waiting",visits:a,color:"blue",movingVisitId:n}),(0,t.jsx)(o,{title:"With Doctor",visits:r,color:"yellow",movingVisitId:n})]}):(0,t.jsx)(g.default,{})]})}}]);