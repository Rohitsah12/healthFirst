{"version":3,"sources":["turbopack:///[project]/src/app/(protected)/doctors/page.tsx","turbopack:///[project]/src/app/services/doctorScheduleApi.ts","turbopack:///[project]/src/app/utils/time.ts","turbopack:///[project]/src/app/components/doctors/DoctorCard.tsx","turbopack:///[project]/src/app/components/doctors/DeleteDoctorModal.tsx","turbopack:///[project]/src/app/components/doctors/DoctorScheduleView.tsx","turbopack:///[project]/src/app/components/doctors/EditScheduleModal.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-left.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/mail.ts","turbopack:///[project]/src/app/components/doctors/AddEditDoctorModal.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/phone.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Plus, Search, Stethoscope } from 'lucide-react';\r\nimport { doctorApi } from '../../services/doctorApi';\r\nimport type { Doctor } from '../../types/doctor.types';\r\nimport DoctorCard from '../../components/doctors/DoctorCard';\r\nimport DoctorScheduleView from '../../components/doctors/DoctorScheduleView';\r\nimport AddEditDoctorModal from '../../components/doctors/AddEditDoctorModal';\r\nimport DeleteDoctorModal from '../../components/doctors/DeleteDoctorModal';\r\nimport Pagination from '../../components/shared/Pagination';\r\nimport LoadingSpinner from '../../components/shared/LoadingSpinner';\r\nimport ErrorMessage from '../../components/shared/ErrorMessage';\r\n\r\ntype ViewMode = 'list' | 'schedule';\r\n\r\nconst DoctorsPage: React.FC = () => {\r\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\r\n  const [selectedDoctorId, setSelectedDoctorId] = useState<string | null>(null);\r\n  const [selectedDoctor, setSelectedDoctor] = useState<Doctor | null>(null);\r\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n  const [editingDoctor, setEditingDoctor] = useState<Doctor | null>(null);\r\n  const [deletingDoctor, setDeletingDoctor] = useState<Doctor | null>(null);\r\n  \r\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\r\n  const [pagination, setPagination] = useState({\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n    totalCount: 0,\r\n    limit: 9,\r\n    hasNextPage: false,\r\n    hasPrevPage: false\r\n  });\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState<'all' | 'true' | 'false'>('all');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchDoctors = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await doctorApi.getDoctors({\r\n        page: pagination.currentPage,\r\n        limit: pagination.limit,\r\n        search: searchQuery,\r\n        isActive: filterStatus\r\n      });\r\n      setDoctors(data.doctors);\r\n      setPagination(data.pagination);\r\n    } catch (err: unknown) {\r\n      setError(err instanceof Error ? err.message : 'Failed to fetch doctors');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDoctorById = async (doctorId: string) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const doctor = await doctorApi.getDoctorById(doctorId);\r\n      setSelectedDoctor(doctor);\r\n    } catch (err: unknown) {\r\n      setError(err instanceof Error ? err.message : 'Failed to fetch doctor details');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDoctors();\r\n  }, [pagination.currentPage, filterStatus]);\r\n\r\n  useEffect(() => {\r\n    const delaySearch = setTimeout(() => {\r\n      if (pagination.currentPage === 1) {\r\n        fetchDoctors();\r\n      } else {\r\n        setPagination(prev => ({ ...prev, currentPage: 1 }));\r\n      }\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delaySearch);\r\n  }, [searchQuery]);\r\n\r\n  const handleViewSchedule = (doctorId: string) => {\r\n    setSelectedDoctorId(doctorId);\r\n    fetchDoctorById(doctorId);\r\n    setViewMode('schedule');\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setViewMode('list');\r\n    setSelectedDoctorId(null);\r\n    setSelectedDoctor(null);\r\n    fetchDoctors();\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPagination(prev => ({ ...prev, currentPage: page }));\r\n  };\r\n\r\n  const handleDoctorAdded = () => {\r\n    setIsAddModalOpen(false);\r\n    setEditingDoctor(null);\r\n    fetchDoctors();\r\n  };\r\n\r\n  const handleEditDoctor = (doctor: Doctor) => {\r\n    setEditingDoctor(doctor);\r\n  };\r\n\r\n  const handleDeleteDoctor = (doctor: Doctor) => {\r\n    setDeletingDoctor(doctor);\r\n  };\r\n\r\n  const handleDeleteSuccess = () => {\r\n    setDeletingDoctor(null);\r\n    fetchDoctors();\r\n  };\r\n\r\n  if (viewMode === 'schedule' && selectedDoctor) {\r\n    return (\r\n      <DoctorScheduleView \r\n        doctor={selectedDoctor} \r\n        onBack={handleBackToList}\r\n        isLoading={isLoading}\r\n        onScheduleUpdate={() => fetchDoctorById(selectedDoctor.id)}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">Doctors</h2>\r\n          <p className=\"text-gray-600 mt-1\">Manage doctor profiles and schedules</p>\r\n        </div>\r\n        <button \r\n          onClick={() => setIsAddModalOpen(true)}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 shadow-lg font-medium transition-colors\"\r\n        >\r\n          <Plus size={20} /> Add New Doctor\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n        <div className=\"flex gap-4 mb-6\">\r\n          <div className=\"flex-1 relative\">\r\n            <Search className=\"absolute left-3 top-3 text-gray-400\" size={20} />\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"Search by name, email, phone, or specialization...\" \r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-gray-800 placeholder-gray-400\" \r\n            />\r\n          </div>\r\n          <select \r\n            value={filterStatus}\r\n            onChange={(e) => setFilterStatus(e.target.value as 'all' | 'true' | 'false')}\r\n            className=\"border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none text-gray-800\"\r\n          >\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"true\">Active</option>\r\n            <option value=\"false\">Inactive</option>\r\n          </select>\r\n        </div>\r\n\r\n        {error && <ErrorMessage message={error} onDismiss={() => setError(null)} />}\r\n\r\n        {isLoading ? (\r\n          <LoadingSpinner />\r\n        ) : doctors.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <Stethoscope className=\"mx-auto text-gray-400 mb-4\" size={48} />\r\n            <p className=\"text-gray-600 text-lg\">No doctors found</p>\r\n            <p className=\"text-gray-500 text-sm mt-2\">Try adjusting your search or filters</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Doctors Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {doctors.map(doctor => (\r\n                <DoctorCard \r\n                  key={doctor.id} \r\n                  doctor={doctor}\r\n                  onViewSchedule={handleViewSchedule}\r\n                  onEdit={handleEditDoctor}\r\n                  onDelete={handleDeleteDoctor}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {pagination.totalPages > 1 && (\r\n              <Pagination \r\n                currentPage={pagination.currentPage}\r\n                totalPages={pagination.totalPages}\r\n                totalCount={pagination.totalCount}\r\n                onPageChange={handlePageChange}\r\n                hasNextPage={pagination.hasNextPage}\r\n                hasPrevPage={pagination.hasPrevPage}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add/Edit Doctor Modal */}\r\n      {(isAddModalOpen || editingDoctor) && (\r\n        <AddEditDoctorModal \r\n          doctor={editingDoctor}\r\n          onClose={() => {\r\n            setIsAddModalOpen(false);\r\n            setEditingDoctor(null);\r\n          }}\r\n          onSuccess={handleDoctorAdded}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Doctor Modal */}\r\n      {deletingDoctor && (\r\n        <DeleteDoctorModal\r\n          doctor={deletingDoctor}\r\n          onClose={() => setDeletingDoctor(null)}\r\n          onSuccess={handleDeleteSuccess}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorsPage;","import api from '../lib/axiosClient';\r\nimport type { \r\n  DoctorScheduleInput, \r\n  DoctorScheduleResponse,\r\n  GetDoctorScheduleResponse,\r\n  DayOfWeek \r\n} from '../types/doctorSchedule.types';\r\n\r\nexport const doctorScheduleApi = {\r\n  // Get doctor schedule (all days or specific day)\r\n  getDoctorSchedule: async (doctorId: string, dayOfWeek?: DayOfWeek) => {\r\n    const params = dayOfWeek ? `?dayOfWeek=${dayOfWeek}` : '';\r\n    const response = await api.get<{ data: GetDoctorScheduleResponse }>(\r\n      `/doctor-schedule/${doctorId}${params}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Create or update doctor schedule (upsert)\r\n  upsertDoctorSchedule: async (doctorId: string, data: DoctorScheduleInput) => {\r\n    const response = await api.put<{ data: DoctorScheduleResponse[] }>(\r\n      `/doctor-schedule/${doctorId}`,\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Delete doctor schedule (all or specific day)\r\n  deleteDoctorSchedule: async (doctorId: string, dayOfWeek?: DayOfWeek) => {\r\n    const params = dayOfWeek ? `?dayOfWeek=${dayOfWeek}` : '';\r\n    const response = await api.delete<{ data: { deletedCount: number } }>(\r\n      `/doctor-schedule/${doctorId}${params}`\r\n    );\r\n    return response.data.data;\r\n  }\r\n};","// src/utils/time.ts\r\nconst pad = (n: number) => String(n).padStart(2, '0');\r\n\r\nexport const DEFAULT_TIMEZONE = 'Asia/Kolkata'; // change to 'Asia/Kathmandu' if you prefer NPT\r\nexport const DEFAULT_TZ_OFFSET_MINUTES = 330; // IST = +5:30 = 330 minutes; For NPT use 345\r\n\r\n/**\r\n * Format an ISO timestamp (e.g. \"1970-01-01T03:30:00.000Z\") into a human-friendly 12-hour string\r\n * in the given timezone (default Asia/Kolkata).\r\n */\r\nexport const formatISOToLocalTime = (iso: string | undefined | null, tz = DEFAULT_TIMEZONE) => {\r\n  if (!iso) return '-';\r\n  try {\r\n    return new Date(iso).toLocaleTimeString('en-US', {\r\n      hour: 'numeric',\r\n      minute: '2-digit',\r\n      hour12: true,\r\n      timeZone: tz,\r\n    });\r\n  } catch {\r\n    return '-';\r\n  }\r\n};\r\n\r\n/**\r\n * Convert ISO timestamp (or partial time string) to \"HH:mm\" in given timezone (24-hour) suitable for <input type=\"time\" />.\r\n * If `iso` looks like an ISO date (contains 'T'), we parse it as Date; otherwise if it's already \"HH:mm:ss\" or \"HH:mm\" we normalize.\r\n */\r\nexport const isoOrTimeStringToHHMM = (isoOrTime: string, tz = DEFAULT_TIMEZONE) => {\r\n  if (!isoOrTime) return '00:00';\r\n  // if looks like ISO\r\n  if (isoOrTime.includes('T') || isoOrTime.endsWith('Z')) {\r\n    try {\r\n      const parts = new Date(isoOrTime).toLocaleTimeString('en-GB', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        hour12: false,\r\n        timeZone: tz,\r\n      });\r\n      return parts; // \"09:00\"\r\n    } catch {\r\n      return '00:00';\r\n    }\r\n  }\r\n\r\n  // otherwise assume something like \"HH:mm:ss\" or \"HH:mm\"\r\n  const [h, m] = isoOrTime.split(':');\r\n  if (h === undefined || m === undefined) return '00:00';\r\n  return `${pad(Number(h))}:${pad(Number(m))}`;\r\n};\r\n\r\n/**\r\n * Convert a local \"HH:mm\" string in the given timezone to a UTC ISO \"1970-01-01T..Z\".\r\n * Many backends store times as 1970-01-01Txx:xx:00.000Z.\r\n *\r\n * tzOffsetMinutes: minutes offset from UTC (e.g., IST = +330). Default uses DEFAULT_TZ_OFFSET_MINUTES.\r\n */\r\nexport const localHHMMToUTCISO = (hhmm: string, tzOffsetMinutes = DEFAULT_TZ_OFFSET_MINUTES) => {\r\n  const [hStr, mStr] = hhmm.split(':');\r\n  const h = Number(hStr || '0');\r\n  const m = Number(mStr || '0');\r\n\r\n  const localMinutes = h * 60 + m;\r\n  let utcMinutes = localMinutes - tzOffsetMinutes; // convert local to UTC minutes\r\n  utcMinutes = ((utcMinutes % 1440) + 1440) % 1440; // normalize 0..1439\r\n\r\n  const utcH = Math.floor(utcMinutes / 60);\r\n  const utcM = utcMinutes % 60;\r\n\r\n  return `1970-01-01T${pad(utcH)}:${pad(utcM)}:00.000Z`;\r\n};\r\n","import React from 'react';\r\nimport { Stethoscope, Calendar, ChevronRight, Phone, Mail, Edit, Trash2 } from 'lucide-react';\r\nimport type { Doctor } from '../../types/doctor.types';\r\n\r\ninterface DoctorCardProps {\r\n  doctor: Doctor;\r\n  onViewSchedule: (doctorId: string) => void;\r\n  onEdit: (doctor: Doctor) => void;\r\n  onDelete: (doctor: Doctor) => void;\r\n}\r\n\r\nconst DoctorCard: React.FC<DoctorCardProps> = ({ doctor, onViewSchedule, onEdit, onDelete }) => {\r\n  const getStatusColor = (isActive: boolean) => {\r\n    return isActive ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-700';\r\n  };\r\n\r\n  const getGenderBadge = (gender: string) => {\r\n    const colors = {\r\n      MALE: 'bg-blue-100 text-blue-700',\r\n      FEMALE: 'bg-pink-100 text-pink-700',\r\n      OTHER: 'bg-purple-100 text-purple-700'\r\n    };\r\n    return colors[gender as keyof typeof colors] || 'bg-gray-100 text-gray-700';\r\n  };\r\n\r\n  const handleEdit = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onEdit(doctor);\r\n  };\r\n\r\n  const handleDelete = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onDelete(doctor);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-200\">\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center\">\r\n          <Stethoscope className=\"text-blue-600\" size={32} />\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className={`text-xs px-3 py-1 rounded-full font-bold ${getStatusColor(doctor.isActive)}`}>\r\n            {doctor.isActive ? 'Active' : 'Inactive'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <h3 className=\"text-xl font-bold text-gray-800 mb-2\">{doctor.user.name}</h3>\r\n      <p className=\"text-gray-600 mb-1\">{doctor.specialisation}</p>\r\n      \r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <span className={`text-xs px-2 py-1 rounded-full font-medium ${getGenderBadge(doctor.gender)}`}>\r\n          {doctor.gender}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 mb-4 text-sm text-gray-600\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Mail size={14} />\r\n          <span className=\"truncate\">{doctor.user.email}</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Phone size={14} />\r\n          <span>{doctor.user.phone}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex items-center gap-2 mb-4 pt-4 border-t border-gray-200\">\r\n        <button\r\n          onClick={handleEdit}\r\n          className=\"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center gap-1 font-medium text-sm\"\r\n        >\r\n          <Edit size={14} />\r\n          Edit\r\n        </button>\r\n        <button\r\n          onClick={handleDelete}\r\n          className=\"flex-1 bg-red-100 text-red-700 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center gap-1 font-medium text-sm\"\r\n        >\r\n          <Trash2 size={14} />\r\n          Delete\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"pt-3 border-t border-gray-200 flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n          <Calendar size={16} />\r\n          <span>{doctor?.workingHours?.length || 0} days/week</span>\r\n        </div>\r\n        <button \r\n          onClick={() => onViewSchedule(doctor.id)}\r\n          className=\"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1 transition-colors\"\r\n        >\r\n          Schedule <ChevronRight size={16} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorCard;","import React, { useState } from 'react';\r\nimport { X, Trash2, Loader2, AlertTriangle } from 'lucide-react';\r\nimport { doctorApi } from '../../services/doctorApi';\r\nimport type { Doctor } from '../../types/doctor.types';\r\n\r\ninterface DeleteDoctorModalProps {\r\n  doctor: Doctor;\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\nconst DeleteDoctorModal: React.FC<DeleteDoctorModalProps> = ({ doctor, onClose, onSuccess }) => {\r\n  const [deleteType, setDeleteType] = useState<'soft' | 'permanent'>('soft');\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [apiError, setApiError] = useState<string | null>(null);\r\n\r\n  const handleDelete = async () => {\r\n    setIsDeleting(true);\r\n    setApiError(null);\r\n\r\n    try {\r\n      await doctorApi.deleteDoctor(doctor.id, deleteType === 'permanent');\r\n      onSuccess();\r\n    } catch (err: unknown) {\r\n      if (err instanceof Error) {\r\n        setApiError(err.message);\r\n      } else {\r\n        setApiError('Failed to delete doctor');\r\n      }\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center p-6 border-b border-gray-200 flex-shrink-0\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\r\n              <AlertTriangle className=\"text-red-600\" size={20} />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-800\">Delete Doctor</h3>\r\n          </div>\r\n          <button \r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            disabled={isDeleting}\r\n          >\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content - Scrollable */}\r\n        <div className=\"p-6 space-y-4 overflow-y-auto flex-1\">\r\n          {apiError && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\r\n              {apiError}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n            <p className=\"text-sm text-gray-600 mb-2\">Doctor Details:</p>\r\n            <p className=\"font-bold text-gray-800\">{doctor.user.name}</p>\r\n            <p className=\"text-sm text-gray-600\">{doctor.specialisation}</p>\r\n            <p className=\"text-sm text-gray-600\">{doctor.user.email}</p>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <p className=\"text-gray-700 font-medium\">Choose delete option:</p>\r\n            \r\n            <label className=\"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"deleteType\"\r\n                value=\"soft\"\r\n                checked={deleteType === 'soft'}\r\n                onChange={(e) => setDeleteType(e.target.value as 'soft')}\r\n                className=\"mt-1\"\r\n                disabled={isDeleting}\r\n              />\r\n              <div className=\"flex-1\">\r\n                <p className=\"font-semibold text-gray-800\">Deactivate (Recommended)</p>\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Doctor will be marked as inactive but data will be preserved. Visit history remains intact.\r\n                </p>\r\n              </div>\r\n            </label>\r\n\r\n            <label className=\"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"deleteType\"\r\n                value=\"permanent\"\r\n                checked={deleteType === 'permanent'}\r\n                onChange={(e) => setDeleteType(e.target.value as 'permanent')}\r\n                className=\"mt-1\"\r\n                disabled={isDeleting}\r\n              />\r\n              <div className=\"flex-1\">\r\n                <p className=\"font-semibold text-red-700\">Permanent Delete</p>\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Completely remove doctor from system. Only allowed if doctor has no visit records.\r\n                </p>\r\n              </div>\r\n            </label>\r\n          </div>\r\n\r\n          {deleteType === 'permanent' && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertTriangle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={18} />\r\n                <div>\r\n                  <p className=\"font-semibold text-red-800\">Warning!</p>\r\n                  <p className=\"text-sm text-red-700 mt-1\">\r\n                    This action cannot be undone. All doctor data will be permanently deleted.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex justify-end gap-3 p-6 border-t border-gray-200 flex-shrink-0\">\r\n          <button \r\n            type=\"button\"\r\n            onClick={onClose}\r\n            disabled={isDeleting}\r\n            className=\"px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button \r\n            onClick={handleDelete}\r\n            disabled={isDeleting}\r\n            className={`px-6 py-3 rounded-lg font-medium flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${\r\n              deleteType === 'permanent'\r\n                ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                : 'bg-orange-600 hover:bg-orange-700 text-white'\r\n            }`}\r\n          >\r\n            {isDeleting ? (\r\n              <>\r\n                <Loader2 size={20} className=\"animate-spin\" />\r\n                {deleteType === 'permanent' ? 'Deleting...' : 'Deactivating...'}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Trash2 size={20} />\r\n                {deleteType === 'permanent' ? 'Delete Permanently' : 'Deactivate Doctor'}\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteDoctorModal;","// src/components/DoctorScheduleView.tsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ArrowLeft, Phone, Mail, Stethoscope, Calendar, Clock, Edit, Plus, Trash2 } from 'lucide-react';\r\nimport type { Doctor } from '../../types/doctor.types';\r\nimport LoadingSpinner from '../shared/LoadingSpinner';\r\nimport EditScheduleModal from './EditScheduleModal';\r\nimport { doctorScheduleApi } from '../../services/doctorScheduleApi';\r\nimport type { DoctorScheduleItem, DayOfWeek } from '../../types/doctorSchedule.types';\r\nimport { formatISOToLocalTime, isoOrTimeStringToHHMM, DEFAULT_TIMEZONE } from '../../utils/time';\r\n\r\ninterface DoctorScheduleViewProps {\r\n  doctor: Doctor;\r\n  onBack: () => void;\r\n  isLoading: boolean;\r\n  onScheduleUpdate?: () => void;\r\n}\r\n\r\nconst allDays: DayOfWeek[] = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];\r\n\r\n// Use timezone constant from utils\r\nconst TIMEZONE = DEFAULT_TIMEZONE;\r\n\r\nconst DoctorScheduleView: React.FC<DoctorScheduleViewProps> = ({ doctor, onBack, isLoading, onScheduleUpdate }) => {\r\n  const [schedules, setSchedules] = useState<DoctorScheduleItem[]>(doctor.workingHours ?? []);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalDoctor, setModalDoctor] = useState<Doctor | null>(null);\r\n  const [dayLoading, setDayLoading] = useState<Record<DayOfWeek, boolean>>({} as Record<DayOfWeek, boolean>);\r\n\r\n  useEffect(() => {\r\n    setSchedules(doctor.workingHours ?? []);\r\n    fetchSchedules();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [doctor.id]);\r\n\r\n  const fetchSchedules = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await doctorScheduleApi.getDoctorSchedule(doctor.id);\r\n      if (res && res.schedules) {\r\n        setSchedules(res.schedules as DoctorScheduleItem[]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch schedules', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openEditModal = () => {\r\n    const d: Doctor = { ...doctor, workingHours: schedules } as Doctor;\r\n    setModalDoctor(d);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteDay = async (day: DayOfWeek) => {\r\n    const confirmed = window.confirm(`Delete all schedules for ${day}? This cannot be undone.`);\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      setDayLoading(prev => ({ ...prev, [day]: true }));\r\n      await doctorScheduleApi.deleteDoctorSchedule(doctor.id, day);\r\n      await fetchSchedules();\r\n      if (onScheduleUpdate) onScheduleUpdate();\r\n    } catch (err) {\r\n      console.error('Failed to delete schedules for', day, err);\r\n      alert(err instanceof Error ? err.message : 'Failed to delete schedule');\r\n    } finally {\r\n      setDayLoading(prev => ({ ...prev, [day]: false }));\r\n    }\r\n  };\r\n\r\n  const handleModalSuccess = async () => {\r\n    setModalOpen(false);\r\n    setModalDoctor(null);\r\n    await fetchSchedules();\r\n    if (onScheduleUpdate) onScheduleUpdate();\r\n  };\r\n\r\n  if (isLoading || loading) return <LoadingSpinner />;\r\n\r\n  const getScheduleForDay = (day: DayOfWeek) => schedules.filter(s => s.dayOfWeek === day);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <button\r\n        onClick={onBack}\r\n        className=\"flex items-center gap-2 text-gray-600 hover:text-gray-800 font-medium transition-colors\"\r\n      >\r\n        <ArrowLeft size={20} /> Back to Doctors\r\n      </button>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start gap-6\">\r\n            <div className=\"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center\">\r\n              <Stethoscope className=\"text-blue-600\" size={40} />\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-gray-800 mb-2\">{doctor.user.name}</h2>\r\n              <p className=\"text-xl text-gray-600 mb-3\">{doctor.specialisation}</p>\r\n              <div className=\"flex gap-4 text-gray-600 text-sm\">\r\n                <span className=\"flex items-center gap-2\">\r\n                  <Mail size={16} />\r\n                  {doctor.user.email}\r\n                </span>\r\n                <span className=\"flex items-center gap-2\">\r\n                  <Phone size={16} />\r\n                  {doctor.user.phone}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center gap-3 mt-3\">\r\n                <span className={`text-xs px-3 py-1 rounded-full font-bold ${doctor.isActive ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-700'}`}>\r\n                  {doctor.isActive ? 'Active' : 'Inactive'}\r\n                </span>\r\n                <span className=\"text-sm text-gray-600\">{doctor.gender}</span>\r\n                <span className=\"text-sm text-gray-600\">{doctor._count?.visits ?? 0} total visits</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={openEditModal}\r\n              className=\"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n            >\r\n              <Edit size={16} /> Edit Schedule\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\r\n        <div className=\"flex items-center gap-3 mb-6\">\r\n          <Calendar className=\"text-blue-600\" size={24} />\r\n          <h3 className=\"text-2xl font-bold text-gray-800\">Weekly Schedule</h3>\r\n        </div>\r\n\r\n        {schedules.length === 0 ? (\r\n          <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n            <Clock className=\"mx-auto text-gray-400 mb-3\" size={48} />\r\n            <p className=\"text-gray-600 text-lg\">No schedule set</p>\r\n            <p className=\"text-gray-500 text-sm mt-1\">This doctor doesn&apos;t have any working hours configured yet.</p>\r\n            <div className=\"mt-4\">\r\n              <button onClick={openEditModal} className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\">\r\n                <Plus size={16} /> Add Schedule\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b-2 border-gray-200\">\r\n                  <th className=\"text-left p-4 font-bold text-gray-700 w-1/5\">Day</th>\r\n                  <th className=\"text-left p-4 font-bold text-gray-700\">Start Time</th>\r\n                  <th className=\"text-left p-4 font-bold text-gray-700\">End Time</th>\r\n                  <th className=\"text-center p-4 font-bold text-gray-700\">Status</th>\r\n                  <th className=\"text-center p-4 font-bold text-gray-700\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {allDays.map(day => {\r\n                  const daySchedules = getScheduleForDay(day);\r\n                  const dayName = day.charAt(0) + day.slice(1).toLowerCase();\r\n\r\n                  if (daySchedules.length === 0) {\r\n                    return (\r\n                      <tr key={day} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                        <td className=\"p-4 font-semibold text-gray-800\">{dayName}</td>\r\n                        <td colSpan={2} className=\"p-4 text-gray-500 italic\">Not Available</td>\r\n                        <td className=\"p-4 text-center\">\r\n                          <span className=\"bg-gray-100 text-gray-600 text-xs px-3 py-1 rounded-full font-medium\">Off Day</span>\r\n                        </td>\r\n                        <td className=\"p-4 text-center\">\r\n                          <button\r\n                            onClick={openEditModal}\r\n                            className=\"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1 mx-auto transition-colors\"\r\n                          >\r\n                            <Plus size={14} /> Add\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  }\r\n\r\n                  return daySchedules.map((schedule, index) => (\r\n                    <tr key={`${day}-${index}`} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                      {index === 0 && (\r\n                        <td rowSpan={daySchedules.length} className=\"p-4 font-semibold text-gray-800 align-top\">{dayName}</td>\r\n                      )}\r\n                      <td className=\"p-4 text-gray-700\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock size={16} className=\"text-blue-600\" />\r\n                          { /* schedule.startTime may be ISO or HH:mm — convert safely */ }\r\n                          {schedule.startTime && schedule.startTime.includes('T')\r\n                            ? formatISOToLocalTime(schedule.startTime, TIMEZONE)\r\n                            : (() => {\r\n                                const hhmm = isoOrTimeStringToHHMM(schedule.startTime, TIMEZONE);\r\n                                // display as 12-hour using a Date constructed with today's date in timezone is tricky;\r\n                                // reuse formatISOToLocalTime by converting local hh:mm -> UTC ISO then format it:\r\n                                const iso = (() => {\r\n                                  // convert hh:mm (local) -> UTC ISO using DEFAULT_TZ_OFFSET_MINUTES (mirrors EditSchedule)\r\n                                  const [h, m] = hhmm.split(':').map(Number);\r\n                                  const localMinutes = h * 60 + m;\r\n                                  const utcMinutes = ((localMinutes - 330) % 1440 + 1440) % 1440; // IST offset 330\r\n                                  const uh = Math.floor(utcMinutes / 60);\r\n                                  const um = utcMinutes % 60;\r\n                                  return `1970-01-01T${String(uh).padStart(2,'0')}:${String(um).padStart(2,'0')}:00.000Z`;\r\n                                })();\r\n                                return formatISOToLocalTime(iso, TIMEZONE);\r\n                              })()\r\n                          }\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"p-4 text-gray-700\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock size={16} className=\"text-blue-600\" />\r\n                          {schedule.endTime && schedule.endTime.includes('T')\r\n                            ? formatISOToLocalTime(schedule.endTime, TIMEZONE)\r\n                            : (() => {\r\n                                const hhmm = isoOrTimeStringToHHMM(schedule.endTime, TIMEZONE);\r\n                                const iso = (() => {\r\n                                  const [h, m] = hhmm.split(':').map(Number);\r\n                                  const localMinutes = h * 60 + m;\r\n                                  const utcMinutes = ((localMinutes - 330) % 1440 + 1440) % 1440;\r\n                                  const uh = Math.floor(utcMinutes / 60);\r\n                                  const um = utcMinutes % 60;\r\n                                  return `1970-01-01T${String(uh).padStart(2,'0')}:${String(um).padStart(2,'0')}:00.000Z`;\r\n                                })();\r\n                                return formatISOToLocalTime(iso, TIMEZONE);\r\n                              })()\r\n                          }\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"p-4 text-center\">\r\n                        <span className=\"bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium\">Available</span>\r\n                      </td>\r\n                      <td className=\"p-4 text-center\">\r\n                        {index === 0 && (\r\n                          <div className=\"flex items-center justify-center gap-2\">\r\n                            <button\r\n                              onClick={openEditModal}\r\n                              className=\"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1 transition-colors\"\r\n                            >\r\n                              <Edit size={14} /> Edit\r\n                            </button>\r\n                            <button\r\n                              disabled={!!dayLoading[day]}\r\n                              onClick={() => handleDeleteDay(day)}\r\n                              className=\"text-red-600 hover:text-red-700 font-medium text-sm flex items-center gap-1 disabled:opacity-50 transition-colors\"\r\n                            >\r\n                              {dayLoading[day] ? 'Deleting...' : <><Trash2 size={14} /> Delete</>}\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ));\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {modalOpen && modalDoctor && (\r\n        <EditScheduleModal doctor={modalDoctor} onClose={() => setModalOpen(false)} onSuccess={handleModalSuccess} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorScheduleView;\r\n","// src/components/EditScheduleModal.tsx\r\nimport React, { useState } from \"react\";\r\nimport { X, Save, Loader2, Plus, Trash2 } from \"lucide-react\";\r\nimport { doctorScheduleApi } from \"../../services/doctorScheduleApi\";\r\nimport type { Doctor } from \"../../types/doctor.types\";\r\nimport type {\r\n  DoctorScheduleItem,\r\n  DayOfWeek,\r\n} from \"../../types/doctorSchedule.types\";\r\nimport {\r\n  isoOrTimeStringToHHMM,\r\n  localHHMMToUTCISO,\r\n  DEFAULT_TIMEZONE,\r\n} from \"../../utils/time\";\r\n\r\ninterface EditScheduleModalProps {\r\n  doctor: Doctor;\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\ninterface ScheduleFormItem extends DoctorScheduleItem {\r\n  id: string;\r\n  // startTime and endTime here are in \"HH:mm\" (local timezone shown in UI)\r\n  startTime: string;\r\n  endTime: string;\r\n}\r\n\r\ninterface LegacyWorkingHours {\r\n  start?: string;\r\n  end?: string;\r\n}\r\n\r\nconst EditScheduleModal: React.FC<EditScheduleModalProps> = ({\r\n  doctor,\r\n  onClose,\r\n  onSuccess,\r\n}) => {\r\n  const allDays: DayOfWeek[] = [\r\n    \"MONDAY\",\r\n    \"TUESDAY\",\r\n    \"WEDNESDAY\",\r\n    \"THURSDAY\",\r\n    \"FRIDAY\",\r\n    \"SATURDAY\",\r\n    \"SUNDAY\",\r\n  ];\r\n\r\n  // Build initial schedules safely: convert incoming ISO times to HH:mm for inputs\r\n  const initialSchedules: ScheduleFormItem[] = (doctor.workingHours || []).map(\r\n    (wh, idx) => ({\r\n      id: `${wh.id ?? `${wh.dayOfWeek}-${idx}`}`,\r\n      dayOfWeek: wh.dayOfWeek as DayOfWeek,\r\n      startTime: isoOrTimeStringToHHMM(\r\n        wh.startTime ?? (wh as LegacyWorkingHours).start ?? \"00:00\",\r\n        DEFAULT_TIMEZONE\r\n      ),\r\n      endTime: isoOrTimeStringToHHMM(\r\n        wh.endTime ?? (wh as LegacyWorkingHours).end ?? \"00:00\",\r\n        DEFAULT_TIMEZONE\r\n      ),\r\n    })\r\n  );\r\n\r\n  const [schedules, setSchedules] = useState<ScheduleFormItem[]>(\r\n    initialSchedules.length > 0 ? initialSchedules : []\r\n  );\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [apiError, setApiError] = useState<string | null>(null);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n  const addSchedule = () => {\r\n    const newSchedule: ScheduleFormItem = {\r\n      id: `new-${Date.now()}`,\r\n      dayOfWeek: \"MONDAY\",\r\n      startTime: \"09:00\",\r\n      endTime: \"17:00\",\r\n    };\r\n    setSchedules((prev) => [...prev, newSchedule]);\r\n  };\r\n\r\n  const removeSchedule = (id: string) => {\r\n    setSchedules((prev) => prev.filter((s) => s.id !== id));\r\n    setErrors((prev) => {\r\n      const copy = { ...prev };\r\n      delete copy[id];\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const updateSchedule = (\r\n    id: string,\r\n    field: keyof Pick<ScheduleFormItem, \"startTime\" | \"endTime\" | \"dayOfWeek\">,\r\n    value: string\r\n  ) => {\r\n    setSchedules((prev) =>\r\n      prev.map((s) => (s.id === id ? { ...s, [field]: value } : s))\r\n    );\r\n    setApiError(null);\r\n    if (errors[id]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[id];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const validateSchedules = (): boolean => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (schedules.length === 0) {\r\n      setApiError(\"Please add at least one schedule\");\r\n      return false;\r\n    }\r\n\r\n    schedules.forEach((schedule) => {\r\n      if (!schedule.startTime || !schedule.endTime) {\r\n        newErrors[schedule.id] = \"Both start and end times are required\";\r\n        return;\r\n      }\r\n\r\n      const [sh, sm] = schedule.startTime.split(\":\").map(Number);\r\n      const [eh, em] = schedule.endTime.split(\":\").map(Number);\r\n      const startMinutes = sh * 60 + sm;\r\n      const endMinutes = eh * 60 + em;\r\n\r\n      if (endMinutes <= startMinutes) {\r\n        newErrors[schedule.id] = \"End time must be after start time\";\r\n      }\r\n    });\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!validateSchedules()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setApiError(null);\r\n\r\n    try {\r\n      // Convert local HH:mm -> UTC ISO expected by backend\r\n      const normalizeHHMM = (s: string) => {\r\n        const [h = \"00\", m = \"00\"] = s.split(\":\");\r\n        return `${String(h).padStart(2, \"0\")}:${String(m).padStart(2, \"0\")}`;\r\n      };\r\n\r\n      const schedulesToSubmit = schedules.map(\r\n        ({ dayOfWeek, startTime, endTime }) => ({\r\n          dayOfWeek,\r\n          startTime: normalizeHHMM(startTime),\r\n          endTime: normalizeHHMM(endTime),\r\n        })\r\n      );\r\n\r\n      await doctorScheduleApi.upsertDoctorSchedule(doctor.id, {\r\n        schedules: schedulesToSubmit,\r\n      });\r\n      onSuccess();\r\n    } catch (err: unknown) {\r\n      setApiError(\r\n        err instanceof Error ? err.message : \"Failed to update schedule\"\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const groupedSchedules = allDays.reduce((acc, day) => {\r\n    acc[day] = schedules.filter((s) => s.dayOfWeek === day);\r\n    return acc;\r\n  }, {} as Record<DayOfWeek, ScheduleFormItem[]>);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col\">\r\n        <div className=\"flex justify-between items-center p-6 border-b border-gray-200\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-bold text-gray-800\">Edit Schedule</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">{doctor.user.name}</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto p-6\">\r\n          {apiError && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4\">\r\n              {apiError}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-6\">\r\n            {allDays.map((day) => {\r\n              const daySchedules = groupedSchedules[day];\r\n              const dayName = day.charAt(0) + day.slice(1).toLowerCase();\r\n\r\n              return (\r\n                <div\r\n                  key={day}\r\n                  className=\"border border-gray-200 rounded-lg p-4\"\r\n                >\r\n                  <div className=\"flex justify-between items-center mb-3\">\r\n                    <h4 className=\"font-bold text-gray-800 text-lg\">\r\n                      {dayName}\r\n                    </h4>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        const newSchedule: ScheduleFormItem = {\r\n                          id: `${day}-${Date.now()}`,\r\n                          dayOfWeek: day,\r\n                          startTime: \"09:00\",\r\n                          endTime: \"17:00\",\r\n                        };\r\n                        setSchedules((prev) => [...prev, newSchedule]);\r\n                      }}\r\n                      className=\"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1\"\r\n                    >\r\n                      <Plus size={16} /> Add Shift\r\n                    </button>\r\n                  </div>\r\n\r\n                  {daySchedules.length === 0 ? (\r\n                    <p className=\"text-gray-500 italic text-sm\">\r\n                      No shifts scheduled\r\n                    </p>\r\n                  ) : (\r\n                    <div className=\"space-y-3\">\r\n                      {daySchedules.map((schedule) => (\r\n                        <div\r\n                          key={schedule.id}\r\n                          className=\"flex items-center gap-3\"\r\n                        >\r\n                          <div className=\"flex-1 grid grid-cols-2 gap-3\">\r\n                            <div>\r\n                              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                                Start Time ({DEFAULT_TIMEZONE})\r\n                              </label>\r\n                              <input\r\n                                type=\"time\"\r\n                                value={schedule.startTime}\r\n                                onChange={(e) =>\r\n                                  updateSchedule(\r\n                                    schedule.id,\r\n                                    \"startTime\",\r\n                                    e.target.value\r\n                                  )\r\n                                }\r\n                                className={`w-full px-3 py-2 border-2 rounded-lg focus:outline-none text-gray-700 ${\r\n                                  errors[schedule.id]\r\n                                    ? \"border-red-300 focus:border-red-500\"\r\n                                    : \"border-gray-300 focus:border-blue-500\"\r\n                                }`}\r\n                                disabled={isSubmitting}\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                                End Time ({DEFAULT_TIMEZONE})\r\n                              </label>\r\n                              <input\r\n                                type=\"time\"\r\n                                value={schedule.endTime}\r\n                                onChange={(e) =>\r\n                                  updateSchedule(\r\n                                    schedule.id,\r\n                                    \"endTime\",\r\n                                    e.target.value\r\n                                  )\r\n                                }\r\n                                className={`w-full px-3 py-2 border-2 rounded-lg focus:outline-none text-gray-700 ${\r\n                                  errors[schedule.id]\r\n                                    ? \"border-red-300 focus:border-red-500\"\r\n                                    : \"border-gray-300 focus:border-blue-500\"\r\n                                }`}\r\n                                disabled={isSubmitting}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => removeSchedule(schedule.id)}\r\n                            disabled={isSubmitting}\r\n                            className=\"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors mt-5\"\r\n                            title=\"Remove shift\"\r\n                          >\r\n                            <Trash2 size={18} />\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                      {errors[daySchedules[0]?.id] && (\r\n                        <p className=\"text-red-500 text-xs\">\r\n                          {errors[daySchedules[0].id]}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {schedules.length === 0 && (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-gray-600 mb-4\">No schedules added yet</p>\r\n              <button\r\n                type=\"button\"\r\n                onClick={addSchedule}\r\n                className=\"bg-blue-100 text-blue-700 px-6 py-3 rounded-lg flex items-center gap-2 font-medium hover:bg-blue-200 transition-colors mx-auto\"\r\n              >\r\n                <Plus size={20} />\r\n                Add First Schedule\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              disabled={isSubmitting}\r\n              className=\"px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting || schedules.length === 0}\r\n              className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 size={20} className=\"animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save size={20} />\r\n                  Save Schedule\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditScheduleModal;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import React, { useState, useEffect } from 'react';\r\nimport { X, Save, Loader2 } from 'lucide-react';\r\nimport { doctorApi } from '../../services/doctorApi';\r\nimport type { CreateDoctorInput, Doctor } from '../../types/doctor.types';\r\n\r\ninterface AddEditDoctorModalProps {\r\n  doctor?: Doctor | null;\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\nconst AddEditDoctorModal: React.FC<AddEditDoctorModalProps> = ({ doctor, onClose, onSuccess }) => {\r\n  const isEditMode = !!doctor;\r\n\r\n  const [formData, setFormData] = useState<CreateDoctorInput>({\r\n    name: doctor?.user.name || '',\r\n    email: doctor?.user.email || '',\r\n    phone: doctor?.user.phone || '',\r\n    specialisation: doctor?.specialisation || '',\r\n    gender: doctor?.gender || 'MALE'\r\n  });\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [apiError, setApiError] = useState<string | null>(null);\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'Name is required';\r\n    }\r\n\r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'Email is required';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email = 'Invalid email format';\r\n    }\r\n\r\n    if (!formData.phone.trim()) {\r\n      newErrors.phone = 'Phone number is required';\r\n    }\r\n\r\n    if (!formData.specialisation.trim()) {\r\n      newErrors.specialisation = 'Specialization is required';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    if (errors[name]) {\r\n      setErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[name];\r\n        return newErrors;\r\n      });\r\n    }\r\n    setApiError(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setApiError(null);\r\n\r\n    try {\r\n      if (isEditMode && doctor) {\r\n        await doctorApi.updateDoctor(doctor.id, {\r\n          name: formData.name,\r\n          email: formData.email,\r\n          phone: formData.phone,\r\n          specialisation: formData.specialisation,\r\n          gender: formData.gender\r\n        });\r\n      } else {\r\n        await doctorApi.createDoctor(formData);\r\n      }\r\n      onSuccess();\r\n    } catch (err: unknown) {\r\n      if (err instanceof Error) {\r\n        setApiError(err.message);\r\n      } else {\r\n        setApiError(`Failed to ${isEditMode ? 'update' : 'create'} doctor`);\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-gray-200\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center p-6 border-b border-gray-300 bg-gradient-to-r from-blue-600 to-blue-700 rounded-t-2xl\">\r\n          <h3 className=\"text-2xl font-bold text-white\">\r\n            {isEditMode ? 'Edit Doctor' : 'Add New Doctor'}\r\n          </h3>\r\n          <button \r\n            onClick={onClose}\r\n            className=\"text-white/80 hover:text-white hover:bg-white/20 rounded-lg p-2 transition-all\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4 overflow-y-auto\">\r\n          {apiError && (\r\n            <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm\">\r\n              <p className=\"font-medium\">{apiError}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Full Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input \r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., Dr. Anil Sharma\"\r\n                className={`w-full px-4 py-3 bg-white border-2 rounded-lg focus:outline-none focus:ring-2 transition-all text-gray-700 ${\r\n                  errors.name \r\n                    ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \r\n                    : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\r\n                }`}\r\n                disabled={isSubmitting}\r\n              />\r\n              {errors.name && (\r\n                <p className=\"text-red-600 text-xs mt-1 font-medium\">{errors.name}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Email <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input \r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                placeholder=\"doctor@medicare.com\"\r\n                className={`w-full px-4 py-3 bg-white border-2 rounded-lg focus:outline-none focus:ring-2 transition-all text-gray-900 placeholder-gray-400 ${\r\n                  errors.email \r\n                    ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \r\n                    : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\r\n                }`}\r\n                disabled={isSubmitting}\r\n              />\r\n              {errors.email && (\r\n                <p className=\"text-red-600 text-xs mt-1 font-medium\">{errors.email}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Phone Number <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input \r\n                type=\"text\"\r\n                name=\"phone\"\r\n                value={formData.phone}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., +977-9851012345\"\r\n                className={`w-full px-4 py-3 bg-white border-2 rounded-lg focus:outline-none focus:ring-2 transition-all text-gray-900 placeholder-gray-400 ${\r\n                  errors.phone \r\n                    ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \r\n                    : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\r\n                }`}\r\n                disabled={isSubmitting}\r\n              />\r\n              {errors.phone && (\r\n                <p className=\"text-red-600 text-xs mt-1 font-medium\">{errors.phone}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-900 placeholder-gray-400 mb-2\">\r\n                Specialization <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input \r\n                type=\"text\"\r\n                name=\"specialisation\"\r\n                value={formData.specialisation}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., Cardiology\"\r\n                className={`w-full px-4 py-3 bg-white border-2 rounded-lg focus:outline-none focus:ring-2 transition-all text-gray-900 placeholder-gray-400 ${\r\n                  errors.specialisation \r\n                    ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \r\n                    : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\r\n                }`}\r\n                disabled={isSubmitting}\r\n              />\r\n              {errors.specialisation && (\r\n                <p className=\"text-red-600 text-xs mt-1 font-medium\">{errors.specialisation}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-900 placeholder-gray-400 mb-2\">\r\n                Gender <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <select\r\n                name=\"gender\"\r\n                value={formData.gender}\r\n                onChange={handleChange}\r\n                className=\"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all text-gray-900 placeholder-gray-400\"\r\n              >\r\n                <option value=\"MALE\">Male</option>\r\n                <option value=\"FEMALE\">Female</option>\r\n                <option value=\"OTHER\">Other</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {!isEditMode && (\r\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4 mt-4 shadow-sm\">\r\n              <p className=\"text-sm text-blue-900\">\r\n                <strong className=\"font-semibold\">Note:</strong> A default password <code className=\"bg-blue-200/50 px-2 py-1 rounded font-mono text-blue-900\">Doctor@123</code> will be set for this doctor. They can change it after first login.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-300\">\r\n            <button \r\n              type=\"button\"\r\n              onClick={onClose}\r\n              disabled={isSubmitting}\r\n              className=\"px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold flex items-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 size={20} className=\"animate-spin\" />\r\n                  {isEditMode ? 'Updating...' : 'Creating...'}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save size={20} />\r\n                  {isEditMode ? 'Update Doctor' : 'Create Doctor'}\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEditDoctorModal;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuODMyIDE2LjU2OGExIDEgMCAwIDAgMS4yMTMtLjMwM2wuMzU1LS40NjVBMiAyIDAgMCAxIDE3IDE1aDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0yIDJBMTggMTggMCAwIDEgMiA0YTIgMiAwIDAgMSAyLTJoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLS44IDEuNmwtLjQ2OC4zNTFhMSAxIDAgMCAwLS4yOTIgMS4yMzMgMTQgMTQgMCAwIDAgNi4zOTIgNi4zODQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('phone', __iconNode);\n\nexport default Phone;\n"],"names":[],"mappings":"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","ignoreList":[7,8,10]}