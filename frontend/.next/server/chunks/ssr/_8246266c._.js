module.exports=[47349,(a,b,c)=>{"use strict";var d=a.r(72131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},70127,a=>{"use strict";let b;a.s(["default",()=>al],70127);var c=a.i(87924),d=a.i(51100),e=a.i(19677),f=a.i(50944),g=a.i(72131),h=a.i(87610);a.s(["ERROR_REVALIDATE_EVENT",()=>l,"FOCUS_EVENT",()=>i,"MUTATE_EVENT",()=>k,"RECONNECT_EVENT",()=>j],10261);let i=0,j=1,k=2,l=3;var m=Object.prototype.hasOwnProperty;let n=new WeakMap,o=()=>{},p=o(),q=Object,r=a=>a===p,s=(a,b)=>({...a,...b}),t={},u={},v="undefined",w=typeof document!=v,x=!1,y=(a,b)=>{let c=n.get(a);return[()=>!r(b)&&a.get(b)||t,d=>{if(!r(b)){let e=a.get(b);b in u||(u[b]=e),c[5](b,s(e,d),e||t)}},c[6],()=>!r(b)&&b in u?u[b]:!r(b)&&a.get(b)||t]},z=!0,[A,B]=[o,o],C={initFocus:a=>(w&&document.addEventListener("visibilitychange",a),A("focus",a),()=>{w&&document.removeEventListener("visibilitychange",a),B("focus",a)}),initReconnect:a=>{let b=()=>{z=!0,a()},c=()=>{z=!1};return A("online",b),A("offline",c),()=>{B("online",b),B("offline",c)}}},D=!g.default.useId,E=!0,F=g.useEffect,G="undefined"!=typeof navigator&&navigator.connection;!E&&G&&(["slow-2g","2g"].includes(G.effectiveType)||G.saveData);let H=new WeakMap,I=(a,b)=>a===`[object ${b}]`,J=0,K=a=>{let b,c,d=typeof a,e=q.prototype.toString.call(a),f=I(e,"Date"),g=I(e,"RegExp"),h=I(e,"Object");if(q(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=H.get(a))return b;if(b=++J+"~",H.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=K(a[c])+",";H.set(a,b)}if(h){b="#";let d=q.keys(a).sort();for(;!r(c=d.pop());)r(a[c])||(b+=c+":"+K(a[c])+",");H.set(a,b)}}return b},L=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?K(a):"",b]},M=0,N=()=>++M;async function O(...a){let[b,c,d,e]=a,f=s({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,i=f.optimisticData,j=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(l))}return l(c);async function l(c){let e,[l]=L(c);if(!l)return;let[m,o]=y(b,l),[q,s,t,u]=n.get(b),v=()=>{let a=q[l];return("function"==typeof f.revalidate?f.revalidate(m().data,c):!1!==f.revalidate)&&(delete t[l],delete u[l],a&&a[0])?a[0](k).then(()=>m().data):m().data};if(a.length<3)return v();let w=d,x=!1,z=N();s[l]=[z,0];let A=!r(i),B=m(),C=B.data,D=B._c,E=r(D)?C:D;if(A&&o({data:i="function"==typeof i?i(E,C):i,_c:E}),"function"==typeof w)try{w=w(E)}catch(a){e=a,x=!0}if(w&&"function"==typeof w.then){let a;if(w=await w.catch(a=>{e=a,x=!0}),z!==s[l][0]){if(x)throw e;return w}x&&A&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,o({data:E,_c:p}))}if(g&&!x&&("function"==typeof g?o({data:g(w,E),error:p,_c:p}):o({data:w,error:p,_c:p})),s[l][1]=N(),Promise.resolve(v()).then(()=>{o({_c:p})}),x){if(j)throw e;return}return w}}let P=(a,b)=>{if(!n.has(a)){s(C,b);let c=Object.create(null),d=O.bind(p,a),e=Object.create(null),f=(a,b)=>{let c=e[a]||[];return e[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},g=(b,c,d)=>{a.set(b,c);let f=e[b];if(f)for(let a of f)a(c,d)},h=()=>{n.has(a)||n.set(a,[c,Object.create(null),Object.create(null),Object.create(null),d,g,f])};return h(),[a,d,h,o]}return[a,n.get(a)[4]]},[Q,R]=P(new Map),S=s({onLoadingSlow:o,onSuccess:o,onError:o,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(r(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:o,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(m.call(b,d)&&++e&&!m.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:Q,mutate:R,fallback:{}},{isOnline:()=>z,isVisible:()=>{let a=w&&document.visibilityState;return r(a)||"hidden"!==a}}),T=(a,b)=>{let c=s(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=s(e,g))}return c},U=(0,g.createContext)({});var V=a.i(10261);let W=!1,X=(W?window.__SWR_DEVTOOLS_USE__:[]).concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=L(b),[,,,e]=n.get(Q);if(d.startsWith("$inf$"))return c(...a);let f=e[d];return r(f)?c(...a):(delete e[d],f)});return a(b,e,d)});W&&(window.__SWR_DEVTOOLS_REACT__=g.default);let Y=()=>{},Z=Y();new WeakMap;let $=g.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}}),_={dedupe:!0},aa=Promise.resolve(p);q.defineProperty(a=>{let{value:b}=a,c=(0,g.useContext)(U),d="function"==typeof b,e=(0,g.useMemo)(()=>d?b(c):b,[d,c,b]),f=(0,g.useMemo)(()=>d?e:T(c,e),[d,c,e]),h=e&&e.provider,i=(0,g.useRef)(p);h&&!i.current&&(i.current=P(h(f.cache||Q),e));let j=i.current;return j&&(f.cache=j[0],f.mutate=j[1]),F(()=>{if(j)return j[2]&&j[2](),j[3]},[]),(0,g.createElement)(U.Provider,s(a,{value:f}))},"defaultValue",{value:S});let ab=(b=(a,b,c)=>{let{cache:d,compare:e,suspense:f,fallbackData:i,revalidateOnMount:j,revalidateIfStale:k,refreshInterval:l,refreshWhenHidden:m,refreshWhenOffline:o,keepPreviousData:q}=c,[t,u,v,w]=n.get(d),[x,z]=L(a),A=(0,g.useRef)(!1),B=(0,g.useRef)(!1),C=(0,g.useRef)(x),G=(0,g.useRef)(b),H=(0,g.useRef)(c),I=()=>H.current.isVisible()&&H.current.isOnline(),[J,K,M,P]=y(d,x),Q=(0,g.useRef)({}).current,R=r(i)?r(c.fallback)?p:c.fallback[x]:i,S=(a,b)=>{for(let c in Q)if("data"===c){if(!e(a[c],b[c])&&(!r(a[c])||!e(ad,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},T=(0,g.useMemo)(()=>{let a=!!x&&!!b&&(r(j)?!H.current.isPaused()&&!f&&!1!==k:j),c=b=>{let c=s(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=J(),e=P(),g=c(d),h=d===e?g:c(e),i=g;return[()=>{let a=c(J());return S(a,i)?(i.data=a.data,i.isLoading=a.isLoading,i.isValidating=a.isValidating,i.error=a.error,i):(i=a,a)},()=>h]},[d,x]),U=(0,h.useSyncExternalStore)((0,g.useCallback)(a=>M(x,(b,c)=>{S(c,b)||a()}),[d,x]),T[0],T[1]),W=!A.current,X=t[x]&&t[x].length>0,Y=U.data,Z=r(Y)?R&&"function"==typeof R.then?$(R):R:Y,ab=U.error,ac=(0,g.useRef)(Z),ad=q?r(Y)?r(ac.current)?Z:ac.current:Y:Z,ae=(!X||!!r(ab))&&(W&&!r(j)?j:!H.current.isPaused()&&(f?!r(Z)&&k:r(Z)||k)),af=!!(x&&b&&W&&ae),ag=r(U.isValidating)?af:U.isValidating,ah=r(U.isLoading)?af:U.isLoading,ai=(0,g.useCallback)(async a=>{let b,d,f=G.current;if(!x||!f||B.current||H.current.isPaused())return!1;let g=!0,h=a||{},i=!v[x]||!h.dedupe,j=()=>D?!B.current&&x===C.current&&A.current:x===C.current,k={isValidating:!1,isLoading:!1},l=()=>{K(k)},m=()=>{let a=v[x];a&&a[1]===d&&delete v[x]},n={isValidating:!0};r(J().data)&&(n.isLoading=!0);try{if(i&&(K(n),c.loadingTimeout&&r(J().data)&&setTimeout(()=>{g&&j()&&H.current.onLoadingSlow(x,c)},c.loadingTimeout),v[x]=[f(z),N()]),[b,d]=v[x],b=await b,i&&setTimeout(m,c.dedupingInterval),!v[x]||v[x][1]!==d)return i&&j()&&H.current.onDiscarded(x),!1;k.error=p;let a=u[x];if(!r(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return l(),i&&j()&&H.current.onDiscarded(x),!1;let h=J().data;k.data=e(h,b)?h:b,i&&j()&&H.current.onSuccess(b,x,c)}catch(c){m();let a=H.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(k.error=c,i&&j())&&(a.onError(c,x,a),(!0===b||"function"==typeof b&&b(c))&&(!H.current.revalidateOnFocus||!H.current.revalidateOnReconnect||I())&&a.onErrorRetry(c,x,a,a=>{let b=t[x];b&&b[0]&&b[0](V.ERROR_REVALIDATE_EVENT,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,l(),!0},[x,d]),aj=(0,g.useCallback)((...a)=>O(d,C.current,...a),[]);if(F(()=>{G.current=b,H.current=c,r(Y)||(ac.current=Y)}),F(()=>{if(!x)return;let a=ai.bind(p,_),b=0;H.current.revalidateOnFocus&&(b=Date.now()+H.current.focusThrottleInterval);let c=((a,b,c)=>{let d=b[a]||(b[a]=[]);return d.push(c),()=>{let a=d.indexOf(c);a>=0&&(d[a]=d[d.length-1],d.pop())}})(x,t,(c,d={})=>{if(c==V.FOCUS_EVENT){let c=Date.now();H.current.revalidateOnFocus&&c>b&&I()&&(b=c+H.current.focusThrottleInterval,a())}else if(c==V.RECONNECT_EVENT)H.current.revalidateOnReconnect&&I()&&a();else if(c==V.MUTATE_EVENT)return ai();else if(c==V.ERROR_REVALIDATE_EVENT)return ai(d)});if(B.current=!1,C.current=x,A.current=!0,K({_k:z}),ae&&!v[x])if(r(Z)||E)a();else setTimeout(a,1);return()=>{B.current=!0,c()}},[x]),F(()=>{let a;function b(){let b="function"==typeof l?l(J().data):l;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!J().error&&(m||H.current.isVisible())&&(o||H.current.isOnline())?ai(_).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[l,m,o,x]),(0,g.useDebugValue)(ad),f){let a=x&&r(Z);if(!D&&E&&a)throw Error("Fallback data is required when using Suspense in SSR.");a&&(G.current=b,H.current=c,B.current=!1);let d=w[x];if($(!r(d)&&a?aj(d):aa),!r(ab)&&a)throw ab;let e=a?ai(_):aa;!r(ad)&&a&&(e.status="fulfilled",e.value=!0),$(e)}return{mutate:aj,get data(){return Q.data=!0,ad},get error(){return Q.error=!0,ab},get isValidating(){return Q.isValidating=!0,ag},get isLoading(){return Q.isLoading=!0,ah}}},function(...a){let c=(()=>{let a=(0,g.useContext)(U);return(0,g.useMemo)(()=>s(S,a),[a])})(),[d,e,f]="function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],h=T(c,f),i=b,{use:j}=h,k=(j||[]).concat(X);for(let a=k.length;a--;)i=k[a](i);return i(d,e||h.fetcher||null,h)});var ac=a.i(26510),ad=a.i(41675),ae=a.i(16201),af=a.i(41710),ag=a.i(35126),ah=a.i(17371),ai=a.i(50522);let aj=({icon:a,label:b,value:d,color:e})=>(0,c.jsx)("div",{className:`${{blue:"bg-blue-50 text-blue-600 border-blue-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200"}[e]} border-2 rounded-xl p-6 shadow-sm`,children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium opacity-80",children:b}),(0,c.jsx)("p",{className:"text-4xl font-bold mt-2",children:d})]}),(0,c.jsx)("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center shadow-md",children:(0,c.jsx)(a,{size:28})})]})}),ak=async a=>(await ac.default.get(a)).data;function al(){let a=(0,d.useAppDispatch)(),b=(0,f.useRouter)(),{data:g,error:h,isLoading:i}=ab("/dashboard",ak,{refreshInterval:3e4});if(i)return(0,c.jsx)("p",{className:"text-center p-8",children:"Loading Dashboard..."});if(h)return(0,c.jsx)("p",{className:"text-center p-8 text-red-600",children:"Failed to load dashboard data."});if(!g)return(0,c.jsx)("p",{className:"text-center p-8",children:"No data available."});let{stats:j,queue:k,appointments:l}=g;return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),(0,c.jsx)("p",{className:"text-gray-600 mt-1",children:"Today's Clinic Overview"})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsxs)("button",{onClick:()=>a((0,e.openModal)("addWalkin")),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 shadow-lg transition-colors font-medium",children:[(0,c.jsx)(ah.UserPlus,{size:20})," Add Walk-in"]}),(0,c.jsxs)("button",{onClick:()=>b.push("/appointments"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 shadow-lg transition-colors font-medium",children:[(0,c.jsx)(ad.Calendar,{size:20})," Book Appointment"]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,c.jsx)(aj,{icon:af.Clock,label:"Patients Waiting",value:j.waiting,color:"blue"}),(0,c.jsx)(aj,{icon:ag.Stethoscope,label:"With Doctor",value:j.withDoctor,color:"yellow"}),(0,c.jsx)(aj,{icon:ae.CheckCircle,label:"Completed Today",value:j.completedToday,color:"green"}),(0,c.jsx)(aj,{icon:ad.Calendar,label:"Upcoming Today",value:j.upcomingToday,color:"purple"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Current Queue"}),(0,c.jsxs)("button",{onClick:()=>b.push("/queue"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:["View All ",(0,c.jsx)(ai.ChevronRight,{size:16})]})]}),(0,c.jsx)("div",{className:"space-y-3",children:k&&k.length>0?k.map(a=>(0,c.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("h4",{className:"font-semibold text-gray-800",children:a.patientName}),"URGENT"===a.priority&&(0,c.jsx)("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-bold",children:"URGENT"})]}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.doctorName})]}),(0,c.jsx)("span",{className:"text-sm text-gray-500",children:a.checkInTime})]})},a.id)):(0,c.jsx)("p",{className:"text-gray-500 text-center py-4",children:"The queue is empty."})})]}),(0,c.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Upcoming Appointments"}),(0,c.jsxs)("button",{onClick:()=>b.push("/appointments"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:["View All ",(0,c.jsx)(ai.ChevronRight,{size:16})]})]}),(0,c.jsx)("div",{className:"space-y-3",children:l&&l.length>0?l.map(a=>(0,c.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold text-gray-800",children:a.patientName}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.doctorName," • ",a.type]})]}),(0,c.jsx)("span",{className:"text-sm font-medium text-blue-600",children:a.time})]})},a.id)):(0,c.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No appointments scheduled for today."})})]})]})]})}}];

//# sourceMappingURL=_8246266c._.js.map